query Auctions {
  KOVAN_AUCTION_tokens {
    auctions(first: 1, orderBy: createdAtBlock, orderDirection: desc) {
      __typename
      id
      token {
        id
        name
        symbol
        decimals
      }
      minTTL
      maxTTL
      status
      bidAmount
      rewardAmount
      leadingBid {
        id
        user {
          id
        }
        amount
        createdAtBlock
        createdAtTimestamp
      }
      createdAtBlock
      createdAtTimestamp
      modifiedAtBlock
      modifiedAtTimestamp
    }
  }
}


query Auction($id: ID!) {
  KOVAN_AUCTION_auction(id: $id) {
    id
    token {
      id
      name
      symbol
      decimals
    }
    leadingBid {
      id
      user {
        id
      }
      amount
      createdAtBlock
      createdAtTimestamp
    }
    minTTL
    maxTTL
    status
    bidAmount
    rewardAmount
    createdAtBlock
    createdAtTimestamp
    modifiedAtBlock
    modifiedAtTimestamp
  }
}

query Bids($auctionId: ID!) {
  KOVAN_AUCTION_auction(id: $auctionId) {
    bids {
      id
      user {
        id
      }
      amount
      createdAtBlock
      createdAtTimestamp
    }
  }
}

query UserAuctions($id: ID!) {
  KOVAN_AUCTION_user(id: $id) {
    auctions {
      auction {
        id
        token {
          id
          name
          symbol
          decimals
        }
        leadingBid {
          id
          user {
            id
          }
          amount
          createdAtBlock
          createdAtTimestamp
        }
        minTTL
        maxTTL
        status
        bidAmount
        rewardAmount
        createdAtBlock
        createdAtTimestamp
        modifiedAtBlock
        modifiedAtTimestamp
        bids(first: 1, where: { user: $id }, orderBy: createdAtTimestamp, orderDirection: desc) {
          id
          user {
            id
          }
          amount
          createdAtBlock
          createdAtTimestamp
        }
      }
    }
  }
}

